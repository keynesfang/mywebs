<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
    <link rel="icon" href="/image/myicon.png" type="image/x-icon"/>
    <link rel='stylesheet' type='text/css' href='/lib/bootstrap-4.0.0/css/bootstrap.min.css'>
    <link rel='stylesheet' type='text/css' href='/lib/font-awesome-4.7.0/css/font-awesome.min.css'>
    <link rel='stylesheet' type='text/css' href='/common.css'>
    <script src='/lib/jquery-3.2.1.min.js'></script>
    <script src='/lib/common.js'></script>
    <title>在学习中成长</title>
    <style>
        .news_item {
            border-radius: 5px;
        }

        .news_title {
            color: silver;
        }

        .news_photo {
            width: 56px;
            height: 56px;
        }

        .news_summary {
            float: right;
            width: 190px;
        }
    </style>
    <script>
        $(function () {
            var sql = "SELECT * FROM english_news WHERE mytranslate=1 order by news_date DESC";
            $.post("../common_logic.php", {
                type: "query_sql_get_data2",
                sql: sql
            }, function (data) {
                var html = "";
                var news_info = eval("(" + data + ")");
                for (var item in news_info) {
                    var id = news_info[item].id;
                    var title = news_info[item].title;
                    var news_date = news_info[item].news_date;
                    html += "<div id='" + id + "' class='news_item p-2 mx-2 mb-2 bg-white text-primary'>" +
                            "<div class='news_title'>新闻日期：" + news_date + "</div>" +
                            "<div class='my-1'>" +
                            "<img class='news_photo' src='" + news_info[item].picture_url + "'>" +
                            "<div class='news_summary'>" + title + "</div>" +
                            "</div>" +
                            "</div>";
                }
                $("#news_list").html(html);
                $(".news_summary").css("width", $(".news_item").width() - 70);

                $(".news_item").click(function () {
                    var news_id = $(this).attr("id");
                    document.location = "./news_detail2.html?news_id=" + news_id;
                });
            });
        });
    </script>
</head>
<body class=" bg-primary text-white">
<h5 class="m-0 p-2 d-flex justify-content-end bg-primary text-white">英语短新闻</h5>
<hr class="mt-0">
<div id="news_list">
    <div id="loading" style="text-align: center;">
        <div class="fa-3x">
            <i class="fa fa-spinner fa-spin"></i>
        </div>
        <div class="mt-2">新闻内容加载中！</div>
    </div>
</div>
</body>
</html>